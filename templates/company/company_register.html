{% extends 'company/base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block content %}
<div class="container mt-5">
  <!-- Display any success/error messages here -->
  {% if messages %}
    <div class="row">
      <div class="col-12 mb-4">
        {% for message in messages %}
          <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
        {% endfor %}
      </div>
    </div>
  {% endif %}

  <div class="row justify-content-center">
    <div class="col-md-12">
      <h2 class="page-title">Register as Company</h2>
      <p class="text">
        Please fill out all required fields to create a company account. <br>
        Once your account is created, you can manage and list items for auction.
      </p>

      <div class="card shadow mb-4">
        <div class="card-header">
          <strong class="card-title">All fields are required.</strong>
        </div>
        <div class="card-body">
          <!-- Company Registration Form -->
          <form method="POST" enctype="multipart/form-data" action="">
            {% csrf_token %}

            <!-- First row: Email & Phone -->
            <div class="form-row">
              <div class="form-group col-md-6">
                <label for="id_email">Email</label>
                {{ form.email }}
              </div>
              <div class="form-group col-md-6">
                <label for="id_phone_number">Phone Number</label>
                {{ form.phone_number }}
              </div>
            </div>

            <!-- Second row: First & Last name -->
            <div class="form-row">
              <div class="form-group col-md-6">
                <label for="id_first_name">First Name</label>
                {{ form.first_name }}
              </div>
              <div class="form-group col-md-6">
                <label for="id_last_name">Last Name</label>
                {{ form.last_name }}
              </div>
            </div>

            <!-- Third row: Password fields -->
            <div class="form-row">
              <div class="form-group col-md-6">
                <label for="id_password1">Password</label>
                {{ form.password1 }}
              </div>
              <div class="form-group col-md-6">
                <label for="id_password2">Confirm Password</label>
                {{ form.password2 }}
              </div>
            </div>

            <hr>
            <h5>Company Profile Details</h5>

            <!-- Fourth row: Company Name & Website -->
            <div class="form-row">
              <div class="form-group col-md-6">
                <label for="id_company_name">Company Name</label>
                {{ form.company_name }}
              </div>
              <div class="form-group col-md-6">
                <label for="id_website">Website</label>
                {{ form.website }}
              </div>
            </div>

            <!-- Fifth row: Company Address & City -->
            <div class="form-row">
              <div class="form-group col-md-8">
                <label for="id_address">Address</label>
                {{ form.address }}
              </div>
              <div class="form-group col-md-4">
                <label for="id_city">City</label>
                {{ form.city }}
              </div>
            </div>

            <!-- Sixth row: Country -->
            <div class="form-row">
              <div class="form-group col-md-4">
                <label for="id_country">Country</label>
                {{ form.country }}
              </div>
            </div>

            <!-- Seventh row: Description -->
            <div class="form-row">
              <div class="form-group col-md-12">
                <label for="id_description">Description</label>
                {{ form.description }}
              </div>
            </div>

            <!-- Eighth row: Documents & Logo -->
            <div class="form-row">
              <div class="form-group col-md-6">
                <label for="id_registration_documents">Registration Documents</label>
                {{ form.registration_documents }}
              </div>
              <div class="form-group col-md-6">
                <label for="id_logo">Company Logo</label>
                {{ form.logo }}
              </div>
            </div>

            <!-- Submit buttons -->
            <button type="submit" class="btn btn-primary">Register Account</button>
            <a href="{% url 'user-login' %}" class="btn btn-success ml-2">Back to Login</a>
          </form>
        </div> <!-- /.card-body -->
      </div> <!-- /.card -->
    </div> <!-- /.col-md-12 -->
  </div> <!-- /.row -->
</div>
{% endblock content %}
